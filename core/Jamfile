# $Id: Jamfile,v 1.12 2004/04/27 19:42:24 titer Exp $
#
# This file is part of the HandBrake source code.
# Homepage: <http://handbrake.m0k.org/>.
# It may be used under the terms of the GNU General Public License.

SubDir TOP core ;

LIBHB_SRC =
    Ac3Dec.c AviMux.c DVDRead.c FaacEnc.c FfmpegEnc.c Fifo.c HandBrake.c
    LpcmDec.c Mp3Enc.c Mp4Mux.c Mpeg2Dec.c MpgaDec.c Mux.c OgmMux.c
    Resample.c Scale.c Scan.c Thread.c Utils.c VorbisEnc.c Work.c
    X264Enc.c XvidEnc.c ;

Library libhb : $(LIBHB_SRC) ;

# Sadly, we might want to debug our code
ObjectCcFlags $(LIBHB_SRC) : -g -Wall -W ;

# Needed includes
ObjectHdrs Ac3Dec.c    : $(TOP)/contrib/liba52 ;
ObjectHdrs FfmpegEnc.c
           HandBrake.c
           MpgaDec.c
           Scale.c     : $(TOP)/contrib/libavcodec ;
ObjectHdrs DVDRead.c
           Scan.c      : $(TOP)/contrib/libdvdread ;
ObjectHdrs FaacEnc.c   : $(TOP)/contrib/libfaac ;
ObjectHdrs Mp3Enc.c    : $(TOP)/contrib/libmp3lame ;
ObjectHdrs Mp4Mux.c    : $(TOP)/contrib/libmp4v2 ;
ObjectHdrs Mpeg2Dec.c
           Scan.c      : $(TOP)/contrib/libmpeg2 ;
ObjectHdrs Resample.c  : $(TOP)/contrib/libsamplerate ;
ObjectHdrs OgmMux.c
           VorbisEnc.c : $(TOP)/contrib/libogg ;
ObjectHdrs VorbisEnc.c : $(TOP)/contrib/libvorbis ;
ObjectHdrs X264Enc.c   : $(TOP)/contrib/libx264 ;
ObjectHdrs XvidEnc.c   : $(TOP)/contrib/libxvidcore ;

